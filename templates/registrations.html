{% extends 'base.html' %}
{% block title %} Professors Page {% endblock %}
{% block pageheader %}Student Registration{% endblock %}

{% block content %}

<form action='/registrations' method="post" class=addform>
   <fieldset>
      <legend>Add a Class for a Student</legend>

      <fieldset>
         <label for="student_id">*Student:</label>
         <select id="student_id" name="student_id" required>
            {% if students %}
            {% for student in students%}
            <option value={{student.id}}>{{student.last_name}}, {{student.first_name}}</option>
            {% endfor %}
            {% else %}
            <option selected disabled value="">No Students Available</option>
            {% endif %}
         </select>
      </fieldset>
      <br />

      <fieldset>
         <label for="course_id">*Course:</label>
         <select id="course_id" name="course_id" required>
            {% if courses %}
            {% for course in courses%}
            <option value={{course.id}}>{{course.name}}</option>
            {% endfor %}
            {% else %}
            <option selected disabled value="">No Courses Available</option>
            {% endif %}
         </select>
      </fieldset>
      <br />
      <p> <i>* Indicates a Required Field </i> </p>
      <input type="hidden" value="add" name="post_type">
      <input type="submit" value="Submit">
   </fieldset>
</form>
<br />


<!-- Table populated from database using SELECT -->
<table>
   <caption></caption>
   <thead>
      <tr>
         <th><b>Student_ID</b></th>
         <th><b>Last Name</b></th>
         <th><b>First Name</b></th>
         <th><b>Class_ID</b></th>
         <th><b>Class</b></th>
         <th><b>Modify</b></th>
      </tr>
   </thead>
   <tbody>
      {% for student, course in students_courses %}
      <tr>
         <td>{{ student.id }}</td>
         <td>{{ student.last_name }}</td>
         <td>{{ student.first_name }}</td>
         <td>{{ course.id }}</td>
         <td>{{ course.name }}</td>
         <td>
            <form action="/registrations" method="post">
               <input type="hidden" value={{student.id}} name="student_id">
               <input type="hidden" value={{course.id}} name="class_id">
               <input type="hidden" value="delete" name="post_type">
               <input type="submit" value="Delete" />
            </form>
         </td>
      </tr>
      {% endfor %}

   </tbody>
</table>

<!-- search for student POST form -->
<!-- <form action='/Registrations' method="post" class="addform">
   <fieldset>
      <legend>Search Filter: Lookup Student's Registration</legend>

      <fieldset>
         <label>*First Name:
            <input type="text" name="first_name_search" size="30" maxlength="100" required>
         </label>
         <br />
      </fieldset>
      <br />

      <fieldset>
         <label>*Last Name:
            <input type="text" name="last_name_search" size="30" maxlength="100" required>
         </label>
         <br />
      </fieldset>
      <br />
      <p> <i>* Indicates a Required Field </i> </p>
      <input type="hidden" value="search" name="post_type">
      <input type="submit" value="Submit Search Information" />
      <td><button onclick=window.location.href="/Registrations"> Undo Filter</button></td>
   </fieldset>
</form> -->

{%endblock%}