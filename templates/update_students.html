{% extends 'base.html' %}
{% set active_page = 'students' %}
{% block title %}Update Student{% endblock%}
{% block pageheader %} Update Student {% endblock %}
{%block content%}

<div class="row justify-content-center my-2">
   <div class="col-md-6">
      <!-- form card login -->
      <div class="card ">
            <div class="card-header">
               <h3 class="mb-0">Update a Student</h3>
            </div>
            <div class="card-body">
               <form action='/update-student/{{ student.id }}' method="post" class="edit">
                  <div class="form-group">
                     <label for="">First Name</label>
                     <input class="form-control" type="text" name="first_name" value='{{ student.first_name }}' size="30" maxlength="100" required>
                  </div>
                  <div class="form-group">
                     <label for="">Last Name</label>
                     <input class="form-control" type="text" name="last_name" value='{{ student.last_name }}' size="30" maxlength="100" required>
                  </div>
                  <div class="form-group">
                     <label for="">Birthdate</label>
                     <input class="form-control" type="date" name="birthdate" value='{{ student.birthdate }}' size="30" maxlength="100" required>
                  </div>
                  <div class="form-group">
                     <label for="year">*Student Year:</label>
                     <select class="form-control" id="year" name="year" required>
                        <option value="" disabled selected>--</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                     </select>
                  </div>
                  <div class="form-group">
                     <label for="house_id">*House:</label>
                     <select class="form-control" id="house" name="house_id" required>
                        <option value="" disabled selected>(Select a House)</option>
                        {% if houses %}
                           {% for house in houses %}
                                 <option value={{ house.id }}>{{ house.name }}</option>
                           {% endfor %}
                        {% else %}
                           <option disabled value="">No Houses Available</option>
                        {% endif %}
                     </select>
                  </div>
                  <input type="hidden" value="add" name="post_type">
                  <button type="submit" class="btn btn-success btn-lg float-right">Update</button>

               </form>
            </div>
            <!--/card-block-->
         </div>
         <!-- /form card login -->
   </div>
</div>


<script src={{ url_for('static',filename='js/prefill_select.js') }}></script>
<script type="text/javascript">
   // let year = {{ student.year }}
   // let house_id = {{ student.house_id }}
   //@ts-ignore
   select_option_with_value("year", {{ student.year }});
   select_option_with_value("house", {{ student.house_id }});
</script>
{% endblock %}