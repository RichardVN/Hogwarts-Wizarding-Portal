{% extends 'base.html' %}
{% block title %}Students{% endblock%}
{% block pageheader %} Hogwarts Students {% endblock %}
{%block content%}
<form class="edit" action='/update-student/{{ student.id }}' method="post">

   <fieldset>
      <legend>Update Students Data</legend>
      <fieldset>
         <label>*First Name:
            <input type="text" name="first_name" size="30" maxlength="100" value='{{ student.first_name }}' required>
         </label>
         <br />
      </fieldset>
      <br />
      <fieldset>
         <label>*Last Name:
            <input type="text" name="last_name" size="30" maxlength="100" value='{{ student.last_name }}' required>
         </label>
         <br />
      </fieldset>
      <br />
      <fieldset>
         <label>*Birthdate:
            <input type="date" name="birthdate" size="30" maxlength="100" value='{{ student.birthdate }}' required>
         </label>
         <br />
      </fieldset>
      <br />
      <fieldset>
         <label for="year">*Student Year:</label>
         <select id="year" name="year" required>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
         </select>
      </fieldset>
      <br />
      <fieldset>
         <label>
            <label for="house">*House:</label>
            <select id="house" name="house_id" required>
               {% if houses %}
               {% for house in houses%}
               <option value={{house.id}}>{{house.name}}</option>
               {% endfor %}
               {% else %}
               <option disabled value="">No Houses Available</option>
               {% endif %}
            </select>
         </label>
         <br />
      </fieldset>
      <br />
      <button type="submit" value='Submit'>Submit</button>
      <!---formaction="index.html"-->
   </fieldset>
</form>

<script src={{ url_for('static',filename='js/prefill_select.js') }}></script>
<script type="text/javascript">
   // let year = {{ student.year }}
   // let house_id = {{ student.house_id }}
   //@ts-ignore
   select_option_with_value("year", {{ student.year }});
   select_option_with_value("house", {{ student.house_id }});
</script>
{% endblock %}